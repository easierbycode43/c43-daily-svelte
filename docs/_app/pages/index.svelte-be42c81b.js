import{_ as V}from"../chunks/preload-helper-44e78077.js";import{J as se,S as ne,i as ae,s as le,e as E,k as j,l as q,c as D,a as I,d as $,n as S,b as N,f as y,x as b,t as A,g as P,K as L,H as M,j as O,m as T,o as R,u as v,v as C,w as F,h as B,L as re,M as oe,N as ie,O as fe,A as ue,r as H,P as Y,Q as z,R as G,T as ce,I as _e}from"../chunks/vendor-cf1efd55.js";import me from"./upnext.svelte-0512f520.js";const J=se(new Date,function(e){const s=setInterval(()=>{e(new Date)},1e3);return function(){clearInterval(s)}}),pe="/c43-daily-svelte";function K(a,e,s){const t=a.slice();return t[19]=e[s][0],t[20]=e[s][1],t[22]=s,t}function Q(a,e,s){const t=a.slice();return t[23]=e[s],t}function he(a){let e=a[13].format(a[10])+"",s;return{c(){s=A(e)},l(t){s=P(t,e)},m(t,r){y(t,s,r)},p(t,r){r&1024&&e!==(e=t[13].format(t[10])+"")&&B(s,e)},d(t){t&&$(s)}}}function de(a){let e=a[19]+"",s;return{c(){s=A(e)},l(t){s=P(t,e)},m(t,r){y(t,s,r)},p(t,r){r&1&&e!==(e=t[19]+"")&&B(s,e)},d(t){t&&$(s)}}}function W(a){let e,s;return e=new me({}),{c(){O(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){R(e,t,r),s=!0},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){v(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function X(a){let e,s,t,r=a[23].summary+"",h,o,f,u=a[23].start+"",d,c,_=a[23].end+"",n,l,i,p=a[23].startMs>a[9]+10*60*1e3&&a[23].startMs<=a[9]+50*60*1e3&&W();return{c(){e=E("li"),p&&p.c(),s=j(),t=E("span"),h=A(r),o=j(),f=E("span"),d=A(u),c=A(" - "),n=A(_),l=j(),this.h()},l(m){e=D(m,"LI",{class:!0});var g=I(e);p&&p.l(g),s=S(g),t=D(g,"SPAN",{class:!0});var U=I(t);h=P(U,r),U.forEach($),o=S(g),f=D(g,"SPAN",{class:!0});var w=I(f);d=P(w,u),c=P(w," - "),n=P(w,_),w.forEach($),l=S(g),g.forEach($),this.h()},h(){N(t,"class","event svelte-1su3yk1"),N(f,"class","time svelte-1su3yk1"),N(e,"class","svelte-1su3yk1"),L(e,"starting",a[23].startMs-6e5<=a[9]&&a[23].startMs+3e5>=a[9]),L(e,"active",a[23].startMs<=a[9]&&a[23].endMs>=a[9]),L(e,"hidden",a[23].endMs<=a[9])},m(m,g){y(m,e,g),p&&p.m(e,null),M(e,s),M(e,t),M(t,h),M(e,o),M(e,f),M(f,d),M(f,c),M(f,n),M(e,l),i=!0},p(m,g){m[23].startMs>m[9]+10*60*1e3&&m[23].startMs<=m[9]+50*60*1e3?p?g&513&&b(p,1):(p=W(),p.c(),b(p,1),p.m(e,s)):p&&(H(),v(p,1,1,()=>{p=null}),F()),(!i||g&1)&&r!==(r=m[23].summary+"")&&B(h,r),(!i||g&1)&&u!==(u=m[23].start+"")&&B(d,u),(!i||g&1)&&_!==(_=m[23].end+"")&&B(n,_),g&513&&L(e,"starting",m[23].startMs-6e5<=m[9]&&m[23].startMs+3e5>=m[9]),g&513&&L(e,"active",m[23].startMs<=m[9]&&m[23].endMs>=m[9]),g&513&&L(e,"hidden",m[23].endMs<=m[9])},i(m){i||(b(p),i=!0)},o(m){v(p),i=!1},d(m){m&&$(e),p&&p.d()}}}function Z(a,e){let s,t,r,h;function o(n,l){return n[19]!==n[14]?de:he}let f=o(e),u=f(e),d=e[20],c=[];for(let n=0;n<d.length;n+=1)c[n]=X(Q(e,d,n));const _=n=>v(c[n],1,1,()=>{c[n]=null});return{key:a,first:null,c(){s=E("li"),u.c(),t=j();for(let n=0;n<c.length;n+=1)c[n].c();r=q(),this.h()},l(n){s=D(n,"LI",{class:!0});var l=I(s);u.l(l),l.forEach($),t=S(n);for(let i=0;i<c.length;i+=1)c[i].l(n);r=q(),this.h()},h(){N(s,"class","day-label svelte-1su3yk1"),this.first=s},m(n,l){y(n,s,l),u.m(s,null),y(n,t,l);for(let i=0;i<c.length;i+=1)c[i].m(n,l);y(n,r,l),h=!0},p(n,l){if(e=n,f===(f=o(e))&&u?u.p(e,l):(u.d(1),u=f(e),u&&(u.c(),u.m(s,null))),l&513){d=e[20];let i;for(i=0;i<d.length;i+=1){const p=Q(e,d,i);c[i]?(c[i].p(p,l),b(c[i],1)):(c[i]=X(p),c[i].c(),b(c[i],1),c[i].m(r.parentNode,r))}for(H(),i=d.length;i<c.length;i+=1)_(i);F()}},i(n){if(!h){for(let l=0;l<d.length;l+=1)b(c[l]);h=!0}},o(n){c=c.filter(Boolean);for(let l=0;l<c.length;l+=1)v(c[l]);h=!1},d(n){n&&$(s),u.d(),n&&$(t),re(c,n),n&&$(r)}}}function x(a){let e,s;return e=new a[2]({props:{width:400,height:400,render:{pixelArt:!0,transparent:!0},physics:{default:"arcade"},$$slots:{default:[be]},$$scope:{ctx:a}}}),{c(){O(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){R(e,t,r),s=!0},p(t,r){const h={};r&67109184&&(h.$$scope={dirty:r,ctx:t}),e.$set(h)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){v(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function ge(a){let e,s;return e=new a[1]({props:{velocityX:ve,velocityY:a[11]}}),{c(){O(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){R(e,t,r),s=!0},p:_e,i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){v(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function $e(a){let e,s,t;function r(o){a[15](o)}let h={name:"santa",x:-91,y:250,animation:"santa/default",$$slots:{default:[ge]},$$scope:{ctx:a}};return a[6]!==void 0&&(h.instance=a[6]),e=new a[4]({props:h}),Y.push(()=>z(e,"instance",r)),{c(){O(e.$$.fragment)},l(o){T(e.$$.fragment,o)},m(o,f){R(e,o,f),t=!0},p(o,f){const u={};f&67108864&&(u.$$scope={dirty:f,ctx:o}),!s&&f&64&&(s=!0,u.instance=o[6],G(()=>s=!1)),e.$set(u)},i(o){t||(b(e.$$.fragment,o),t=!0)},o(o){v(e.$$.fragment,o),t=!1},d(o){C(e,o)}}}function be(a){let e,s,t;function r(o){a[16](o)}let h={key:"main",preload:a[12],create:ye,$$slots:{default:[$e]},$$scope:{ctx:a}};return a[8]!==void 0&&(h.instance=a[8]),e=new a[3]({props:h}),Y.push(()=>z(e,"instance",r)),{c(){O(e.$$.fragment)},l(o){T(e.$$.fragment,o)},m(o,f){R(e,o,f),t=!0},p(o,f){const u={};f&67108928&&(u.$$scope={dirty:f,ctx:o}),!s&&f&256&&(s=!0,u.instance=o[8],G(()=>s=!1)),e.$set(u)},i(o){t||(b(e.$$.fragment,o),t=!0)},o(o){v(e.$$.fragment,o),t=!1},d(o){C(e,o)}}}function ke(a){let e,s,t,r=[],h=new Map,o,f,u,d=Object.entries(a[0].eventsByDay);const c=n=>n[19];for(let n=0;n<d.length;n+=1){let l=K(a,d,n),i=c(l);h.set(i,r[n]=Z(i,l))}let _=a[5]&&!a[7]&&x(a);return{c(){e=j(),s=E("section"),t=E("ul");for(let n=0;n<r.length;n+=1)r[n].c();o=j(),_&&_.c(),f=q(),this.h()},l(n){oe('[data-svelte="svelte-z8c47p"]',document.head).forEach($),e=S(n),s=D(n,"SECTION",{class:!0});var i=I(s);t=D(i,"UL",{class:!0});var p=I(t);for(let m=0;m<r.length;m+=1)r[m].l(p);p.forEach($),i.forEach($),o=S(n),_&&_.l(n),f=q(),this.h()},h(){document.title="C43 Events",N(t,"class","svelte-1su3yk1"),N(s,"class","svelte-1su3yk1")},m(n,l){y(n,e,l),y(n,s,l),M(s,t);for(let i=0;i<r.length;i+=1)r[i].m(t,null);y(n,o,l),_&&_.m(n,l),y(n,f,l),u=!0},p(n,[l]){l&26113&&(d=Object.entries(n[0].eventsByDay),H(),r=ie(r,l,c,1,n,d,h,t,ce,Z,null,K),F()),n[5]&&!n[7]?_?(_.p(n,l),l&160&&b(_,1)):(_=x(n),_.c(),b(_,1),_.m(f.parentNode,f)):_&&(H(),v(_,1,1,()=>{_=null}),F())},i(n){if(!u){for(let l=0;l<d.length;l+=1)b(r[l]);b(_),u=!0}},o(n){for(let l=0;l<r.length;l+=1)v(r[l]);v(_),u=!1},d(n){n&&$(e),n&&$(s);for(let l=0;l<r.length;l+=1)r[l].d();n&&$(o),_&&_.d(n),n&&$(f)}}}const De=async({fetch:a})=>({props:{data:await(await a("index.json")).json()}});let ve=25;function ye(a){a.anims.create({key:"santa/default",frames:a.anims.generateFrameNumbers("santa"),frameRate:20,repeat:-1})}function Me(a,e,s){let t,r;fe(a,J,k=>s(10,r=k));let h,o,f,u,d=!1,c=-10,_,n=!1,l;ue(async()=>{await V(()=>import("../chunks/phaser-0d06a704.js").then(function(te){return te.p}),[]);const k=await V(()=>import("../chunks/index-9771636b.js"),["chunks/index-9771636b.js","chunks/vendor-cf1efd55.js","chunks/phaser-0d06a704.js"]);s(1,{ArcadePhysics:h,Game:o,Scene:f,Sprite:u}=k,h,s(2,o),s(3,f),s(4,u)),s(5,d=!0),setTimeout(()=>{l.time.addEvent({delay:25e3,callback:()=>{s(7,n=!0)}})},1e3)});let i=`${pe}/santa.png`;function p(k){k.load.spritesheet("santa",i,{frameWidth:91,frameHeight:37})}const m=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:g={}}=e;const U=new Date().toString().split(" ")[0];J.subscribe(k=>s(9,t=Number(k)));function w(k){_=k,s(6,_)}function ee(k){l=k,s(8,l)}return a.$$set=k=>{"data"in k&&s(0,g=k.data)},s(9,t=Date.now()),[g,h,o,f,u,d,_,n,l,t,r,c,p,m,U,w,ee]}class Ie extends ne{constructor(e){super();ae(this,e,Me,ke,le,{data:0})}}export{Ie as default,De as load};
