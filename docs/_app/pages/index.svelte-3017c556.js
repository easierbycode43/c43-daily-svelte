import{J as H,S as J,i as K,s as R,l as O,k as N,n as S,f as b,e as k,t as w,c as y,a as M,g as D,d as u,b as g,K as I,H as p,h as j,L as U,M as G,N as Q,I as A,O as V,P as W}from"../chunks/vendor-2bddb9ee.js";const C=H(new Date,function(e){const t=setInterval(()=>{e(new Date)},1e3);return function(){clearInterval(t)}});function q(r,e,t){const s=r.slice();return s[5]=e[t][0],s[6]=e[t][1],s[8]=t,s}function B(r,e,t){const s=r.slice();return s[9]=e[t],s}function X(r){let e,t=r[3].format(r[2])+"",s;return{c(){e=k("li"),s=w(t),this.h()},l(l){e=y(l,"LI",{class:!0});var o=M(e);s=D(o,t),o.forEach(u),this.h()},h(){g(e,"class","day-label svelte-af93v6")},m(l,o){b(l,e,o),p(e,s)},p(l,o){o&4&&t!==(t=l[3].format(l[2])+"")&&j(s,t)},d(l){l&&u(e)}}}function Y(r){let e,t=r[5]+"",s;return{c(){e=k("li"),s=w(t),this.h()},l(l){e=y(l,"LI",{class:!0});var o=M(e);s=D(o,t),o.forEach(u),this.h()},h(){g(e,"class","day-label svelte-af93v6")},m(l,o){b(l,e,o),p(e,s)},p(l,o){o&1&&t!==(t=l[5]+"")&&j(s,t)},d(l){l&&u(e)}}}function T(r){let e;return{c(){e=k("span"),this.h()},l(t){e=y(t,"SPAN",{class:!0}),M(e).forEach(u),this.h()},h(){g(e,"class","green-dot svelte-af93v6")},m(t,s){b(t,e,s)},d(t){t&&u(e)}}}function z(r){let e,t,s,l=r[9].summary+"",o,d,c,n=r[9].start+"",i,a,h=r[9].end+"",f,E,m=r[9].startMs<=r[1]&&r[9].endMs>=r[1]&&T();return{c(){e=k("li"),m&&m.c(),t=N(),s=k("span"),o=w(l),d=N(),c=k("span"),i=w(n),a=w(" - "),f=w(h),E=N(),this.h()},l(_){e=y(_,"LI",{class:!0});var v=M(e);m&&m.l(v),t=S(v),s=y(v,"SPAN",{class:!0});var P=M(s);o=D(P,l),P.forEach(u),d=S(v),c=y(v,"SPAN",{class:!0});var L=M(c);i=D(L,n),a=D(L," - "),f=D(L,h),L.forEach(u),E=S(v),v.forEach(u),this.h()},h(){g(s,"class","event svelte-af93v6"),g(c,"class","time svelte-af93v6"),g(e,"class","svelte-af93v6"),I(e,"starting",r[9].startMs-6e5<=r[1]&&r[9].startMs+3e5>=r[1]),I(e,"active",r[9].startMs<=r[1]&&r[9].endMs>=r[1]),I(e,"hidden",r[9].endMs<=r[1])},m(_,v){b(_,e,v),m&&m.m(e,null),p(e,t),p(e,s),p(s,o),p(e,d),p(e,c),p(c,i),p(c,a),p(c,f),p(e,E)},p(_,v){_[9].startMs<=_[1]&&_[9].endMs>=_[1]?m||(m=T(),m.c(),m.m(e,t)):m&&(m.d(1),m=null),v&1&&l!==(l=_[9].summary+"")&&j(o,l),v&1&&n!==(n=_[9].start+"")&&j(i,n),v&1&&h!==(h=_[9].end+"")&&j(f,h),v&3&&I(e,"starting",_[9].startMs-6e5<=_[1]&&_[9].startMs+3e5>=_[1]),v&3&&I(e,"active",_[9].startMs<=_[1]&&_[9].endMs>=_[1]),v&3&&I(e,"hidden",_[9].endMs<=_[1])},d(_){_&&u(e),m&&m.d()}}}function F(r,e){let t,s,l;function o(a,h){return a[5]!==a[4]?Y:X}let d=o(e),c=d(e),n=e[6],i=[];for(let a=0;a<n.length;a+=1)i[a]=z(B(e,n,a));return{key:r,first:null,c(){t=O(),c.c(),s=N();for(let a=0;a<i.length;a+=1)i[a].c();l=O(),this.h()},l(a){t=O(),c.l(a),s=S(a);for(let h=0;h<i.length;h+=1)i[h].l(a);l=O(),this.h()},h(){this.first=t},m(a,h){b(a,t,h),c.m(a,h),b(a,s,h);for(let f=0;f<i.length;f+=1)i[f].m(a,h);b(a,l,h)},p(a,h){if(e=a,d===(d=o(e))&&c?c.p(e,h):(c.d(1),c=d(e),c&&(c.c(),c.m(s.parentNode,s))),h&3){n=e[6];let f;for(f=0;f<n.length;f+=1){const E=B(e,n,f);i[f]?i[f].p(E,h):(i[f]=z(E),i[f].c(),i[f].m(l.parentNode,l))}for(;f<i.length;f+=1)i[f].d(1);i.length=n.length}},d(a){a&&u(t),c.d(a),a&&u(s),U(i,a),a&&u(l)}}}function Z(r){let e,t,s,l=[],o=new Map,d=Object.entries(r[0].eventsByDay);const c=n=>n[5];for(let n=0;n<d.length;n+=1){let i=q(r,d,n),a=c(i);o.set(a,l[n]=F(a,i))}return{c(){e=N(),t=k("section"),s=k("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){G('[data-svelte="svelte-z8c47p"]',document.head).forEach(u),e=S(n),t=y(n,"SECTION",{class:!0});var a=M(t);s=y(a,"UL",{class:!0});var h=M(s);for(let f=0;f<l.length;f+=1)l[f].l(h);h.forEach(u),a.forEach(u),this.h()},h(){document.title="C43 Events",g(s,"class","svelte-af93v6"),g(t,"class","svelte-af93v6")},m(n,i){b(n,e,i),b(n,t,i),p(t,s);for(let a=0;a<l.length;a+=1)l[a].m(s,null)},p(n,[i]){i&31&&(d=Object.entries(n[0].eventsByDay),l=Q(l,i,c,1,n,d,o,s,W,F,null,q))},i:A,o:A,d(n){n&&u(e),n&&u(t);for(let i=0;i<l.length;i+=1)l[i].d()}}}const ee=async({fetch:r})=>({props:{data:await(await r("index.json")).json()}});function $(r,e,t){let s,l;V(r,C,n=>t(2,l=n));const o=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:d={}}=e;const c=new Date().toString().split(" ")[0];return C.subscribe(n=>t(1,s=Number(n))),r.$$set=n=>{"data"in n&&t(0,d=n.data)},t(1,s=Date.now()),[d,s,l,o,c]}class te extends J{constructor(e){super();K(this,e,$,Z,R,{data:0})}}export{te as default,ee as load};
