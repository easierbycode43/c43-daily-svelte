import{J as R,S as $,i as G,s as Q,e as y,k as L,l as T,c as j,a as w,d as p,n as O,b as E,f as k,x as M,t as D,g as I,K as N,H as b,j as V,m as W,o as X,u as S,v as Y,w as P,h as B,L as Z,M as x,N as ee,O as te,r as q,P as le}from"../chunks/vendor-9d3906b1.js";import se from"./upnext.svelte-9d404c42.js";const U=R(new Date,function(e){const l=setInterval(()=>{e(new Date)},1e3);return function(){clearInterval(l)}});function z(n,e,l){const t=n.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function F(n,e,l){const t=n.slice();return t[9]=e[l],t}function ne(n){let e=n[3].format(n[2])+"",l;return{c(){l=D(e)},l(t){l=I(t,e)},m(t,a){k(t,l,a)},p(t,a){a&4&&e!==(e=t[3].format(t[2])+"")&&B(l,e)},d(t){t&&p(l)}}}function ae(n){let e=n[5]+"",l;return{c(){l=D(e)},l(t){l=I(t,e)},m(t,a){k(t,l,a)},p(t,a){a&1&&e!==(e=t[5]+"")&&B(l,e)},d(t){t&&p(l)}}}function H(n){let e,l;return e=new se({}),{c(){V(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,a){X(e,t,a),l=!0},i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function J(n){let e,l,t,a=n[9].summary+"",v,g,h,f=n[9].start+"",o,s,m=n[9].end+"",r,c,i,_=n[9].startMs>n[1]&&n[9].startMs-27e4>=n[1]&&n[9].startMs-601e3>=n[1]&&n[5]===n[4]&&H();return{c(){e=y("li"),_&&_.c(),l=L(),t=y("span"),v=D(a),g=L(),h=y("span"),o=D(f),s=D(" - "),r=D(m),c=L(),this.h()},l(u){e=j(u,"LI",{class:!0});var d=w(e);_&&_.l(d),l=O(d),t=j(d,"SPAN",{class:!0});var A=w(t);v=I(A,a),A.forEach(p),g=O(d),h=j(d,"SPAN",{class:!0});var C=w(h);o=I(C,f),s=I(C," - "),r=I(C,m),C.forEach(p),c=O(d),d.forEach(p),this.h()},h(){E(t,"class","event svelte-1lnj1tr"),E(h,"class","time svelte-1lnj1tr"),E(e,"class","svelte-1lnj1tr"),N(e,"starting",n[9].startMs-6e5<=n[1]&&n[9].startMs+3e5>=n[1]),N(e,"active",n[9].startMs<=n[1]&&n[9].endMs>=n[1]),N(e,"hidden",n[9].endMs<=n[1])},m(u,d){k(u,e,d),_&&_.m(e,null),b(e,l),b(e,t),b(t,v),b(e,g),b(e,h),b(h,o),b(h,s),b(h,r),b(e,c),i=!0},p(u,d){u[9].startMs>u[1]&&u[9].startMs-27e4>=u[1]&&u[9].startMs-601e3>=u[1]&&u[5]===u[4]?_?d&3&&M(_,1):(_=H(),_.c(),M(_,1),_.m(e,l)):_&&(q(),S(_,1,1,()=>{_=null}),P()),(!i||d&1)&&a!==(a=u[9].summary+"")&&B(v,a),(!i||d&1)&&f!==(f=u[9].start+"")&&B(o,f),(!i||d&1)&&m!==(m=u[9].end+"")&&B(r,m),d&3&&N(e,"starting",u[9].startMs-6e5<=u[1]&&u[9].startMs+3e5>=u[1]),d&3&&N(e,"active",u[9].startMs<=u[1]&&u[9].endMs>=u[1]),d&3&&N(e,"hidden",u[9].endMs<=u[1])},i(u){i||(M(_),i=!0)},o(u){S(_),i=!1},d(u){u&&p(e),_&&_.d()}}}function K(n,e){let l,t,a,v;function g(r,c){return r[5]!==r[4]?ae:ne}let h=g(e),f=h(e),o=e[6],s=[];for(let r=0;r<o.length;r+=1)s[r]=J(F(e,o,r));const m=r=>S(s[r],1,1,()=>{s[r]=null});return{key:n,first:null,c(){l=y("li"),f.c(),t=L();for(let r=0;r<s.length;r+=1)s[r].c();a=T(),this.h()},l(r){l=j(r,"LI",{class:!0});var c=w(l);f.l(c),c.forEach(p),t=O(r);for(let i=0;i<s.length;i+=1)s[i].l(r);a=T(),this.h()},h(){E(l,"class","day-label svelte-1lnj1tr"),this.first=l},m(r,c){k(r,l,c),f.m(l,null),k(r,t,c);for(let i=0;i<s.length;i+=1)s[i].m(r,c);k(r,a,c),v=!0},p(r,c){if(e=r,h===(h=g(e))&&f?f.p(e,c):(f.d(1),f=h(e),f&&(f.c(),f.m(l,null))),c&19){o=e[6];let i;for(i=0;i<o.length;i+=1){const _=F(e,o,i);s[i]?(s[i].p(_,c),M(s[i],1)):(s[i]=J(_),s[i].c(),M(s[i],1),s[i].m(a.parentNode,a))}for(q(),i=o.length;i<s.length;i+=1)m(i);P()}},i(r){if(!v){for(let c=0;c<o.length;c+=1)M(s[c]);v=!0}},o(r){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)S(s[c]);v=!1},d(r){r&&p(l),f.d(),r&&p(t),Z(s,r),r&&p(a)}}}function re(n){let e,l,t,a=[],v=new Map,g,h=Object.entries(n[0].eventsByDay);const f=o=>o[5];for(let o=0;o<h.length;o+=1){let s=z(n,h,o),m=f(s);v.set(m,a[o]=K(m,s))}return{c(){e=L(),l=y("section"),t=y("ul");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){x('[data-svelte="svelte-z8c47p"]',document.head).forEach(p),e=O(o),l=j(o,"SECTION",{class:!0});var m=w(l);t=j(m,"UL",{class:!0});var r=w(t);for(let c=0;c<a.length;c+=1)a[c].l(r);r.forEach(p),m.forEach(p),this.h()},h(){document.title="C43 Events",E(t,"class","svelte-1lnj1tr"),E(l,"class","svelte-1lnj1tr")},m(o,s){k(o,e,s),k(o,l,s),b(l,t);for(let m=0;m<a.length;m+=1)a[m].m(t,null);g=!0},p(o,[s]){s&31&&(h=Object.entries(o[0].eventsByDay),q(),a=ee(a,s,f,1,o,h,v,t,le,K,null,z),P())},i(o){if(!g){for(let s=0;s<h.length;s+=1)M(a[s]);g=!0}},o(o){for(let s=0;s<a.length;s+=1)S(a[s]);g=!1},d(o){o&&p(e),o&&p(l);for(let s=0;s<a.length;s+=1)a[s].d()}}}const ce=async({fetch:n})=>({props:{data:await(await n("index.json")).json()}});function oe(n,e,l){let t,a;te(n,U,f=>l(2,a=f));const v=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:g={}}=e;const h=new Date().toString().split(" ")[0];return U.subscribe(f=>l(1,t=Number(f))),n.$$set=f=>{"data"in f&&l(0,g=f.data)},l(1,t=Date.now()),[g,t,a,v,h]}class fe extends ${constructor(e){super();G(this,e,oe,re,Q,{data:0})}}export{fe as default,ce as load};
