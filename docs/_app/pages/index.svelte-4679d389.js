import{J,S as K,i as Q,s as R,l as L,k as z,n as N,f as y,e as k,t as D,c as g,a as M,g as I,d,b as w,K as O,H as v,L as E,h as S,M as U,N as V,O as G,I as A,P as W,Q as X}from"../chunks/vendor-72269891.js";const C=J(new Date,function(e){const t=setInterval(()=>{e(new Date)},1e3);return function(){clearInterval(t)}});function q(r,e,t){const l=r.slice();return l[5]=e[t][0],l[6]=e[t][1],l[8]=t,l}function B(r,e,t){const l=r.slice();return l[9]=e[t],l}function Y(r){let e,t=r[3].format(r[2])+"",l;return{c(){e=k("li"),l=D(t),this.h()},l(n){e=g(n,"LI",{class:!0});var i=M(e);l=I(i,t),i.forEach(d),this.h()},h(){w(e,"class","day-label svelte-9ab7zx")},m(n,i){y(n,e,i),v(e,l)},p(n,i){i&4&&t!==(t=n[3].format(n[2])+"")&&S(l,t)},d(n){n&&d(e)}}}function Z(r){let e,t=r[5]+"",l;return{c(){e=k("li"),l=D(t),this.h()},l(n){e=g(n,"LI",{class:!0});var i=M(e);l=I(i,t),i.forEach(d),this.h()},h(){w(e,"class","day-label svelte-9ab7zx")},m(n,i){y(n,e,i),v(e,l)},p(n,i){i&1&&t!==(t=n[5]+"")&&S(l,t)},d(n){n&&d(e)}}}function T(r){let e;return{c(){e=k("span"),this.h()},l(t){e=g(t,"SPAN",{style:!0}),M(e).forEach(d),this.h()},h(){E(e,"height","10px"),E(e,"width","10px"),E(e,"position","absolute"),E(e,"background-color","#1e8e3e"),E(e,"border-radius","50%"),E(e,"border","1px solid #fff"),E(e,"top","32.5px")},m(t,l){y(t,e,l)},d(t){t&&d(e)}}}function F(r){let e,t,l,n=r[9].summary+"",i,m,c,h=r[9].start+"",a,s,o=r[9].end+"",f,b,_=r[9].startMs<=r[1]&&r[9].endMs>=r[1]&&T();return{c(){e=k("li"),_&&_.c(),t=z(),l=k("span"),i=D(n),m=z(),c=k("span"),a=D(h),s=D(" - "),f=D(o),b=z(),this.h()},l(u){e=g(u,"LI",{class:!0});var p=M(e);_&&_.l(p),t=N(p),l=g(p,"SPAN",{class:!0});var P=M(l);i=I(P,n),P.forEach(d),m=N(p),c=g(p,"SPAN",{class:!0});var j=M(c);a=I(j,h),s=I(j," - "),f=I(j,o),j.forEach(d),b=N(p),p.forEach(d),this.h()},h(){w(l,"class","event svelte-9ab7zx"),w(c,"class","time svelte-9ab7zx"),w(e,"class","svelte-9ab7zx"),O(e,"starting",r[9].startMs-6e5<=r[1]&&r[9].startMs+3e5>=r[1]),O(e,"active",r[9].startMs<=r[1]&&r[9].endMs>=r[1])},m(u,p){y(u,e,p),_&&_.m(e,null),v(e,t),v(e,l),v(l,i),v(e,m),v(e,c),v(c,a),v(c,s),v(c,f),v(e,b)},p(u,p){u[9].startMs<=u[1]&&u[9].endMs>=u[1]?_||(_=T(),_.c(),_.m(e,t)):_&&(_.d(1),_=null),p&1&&n!==(n=u[9].summary+"")&&S(i,n),p&1&&h!==(h=u[9].start+"")&&S(a,h),p&1&&o!==(o=u[9].end+"")&&S(f,o),p&3&&O(e,"starting",u[9].startMs-6e5<=u[1]&&u[9].startMs+3e5>=u[1]),p&3&&O(e,"active",u[9].startMs<=u[1]&&u[9].endMs>=u[1])},d(u){u&&d(e),_&&_.d()}}}function H(r,e){let t,l,n;function i(s,o){return s[5]!==s[4]?Z:Y}let m=i(e),c=m(e),h=e[6],a=[];for(let s=0;s<h.length;s+=1)a[s]=F(B(e,h,s));return{key:r,first:null,c(){t=L(),c.c(),l=z();for(let s=0;s<a.length;s+=1)a[s].c();n=L(),this.h()},l(s){t=L(),c.l(s),l=N(s);for(let o=0;o<a.length;o+=1)a[o].l(s);n=L(),this.h()},h(){this.first=t},m(s,o){y(s,t,o),c.m(s,o),y(s,l,o);for(let f=0;f<a.length;f+=1)a[f].m(s,o);y(s,n,o)},p(s,o){if(e=s,m===(m=i(e))&&c?c.p(e,o):(c.d(1),c=m(e),c&&(c.c(),c.m(l.parentNode,l))),o&3){h=e[6];let f;for(f=0;f<h.length;f+=1){const b=B(e,h,f);a[f]?a[f].p(b,o):(a[f]=F(b),a[f].c(),a[f].m(n.parentNode,n))}for(;f<a.length;f+=1)a[f].d(1);a.length=h.length}},d(s){s&&d(t),c.d(s),s&&d(l),U(a,s),s&&d(n)}}}function $(r){let e,t,l,n,i=[],m=new Map,c=Object.entries(r[0].eventsByDay);const h=a=>a[5];for(let a=0;a<c.length;a+=1){let s=q(r,c,a),o=h(s);m.set(o,i[a]=H(o,s))}return{c(){e=z(),t=k("section"),l=k("div"),n=k("ul");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){V('[data-svelte="svelte-z8c47p"]',document.head).forEach(d),e=N(a),t=g(a,"SECTION",{style:!0});var o=M(t);l=g(o,"DIV",{class:!0});var f=M(l);n=g(f,"UL",{class:!0});var b=M(n);for(let _=0;_<i.length;_+=1)i[_].l(b);b.forEach(d),f.forEach(d),o.forEach(d),this.h()},h(){document.title="C43 Events",w(n,"class","svelte-9ab7zx"),w(l,"class","bg svelte-9ab7zx"),E(t,"display","flex")},m(a,s){y(a,e,s),y(a,t,s),v(t,l),v(l,n);for(let o=0;o<i.length;o+=1)i[o].m(n,null)},p(a,[s]){s&31&&(c=Object.entries(a[0].eventsByDay),i=G(i,s,h,1,a,c,m,n,X,H,null,q))},i:A,o:A,d(a){a&&d(e),a&&d(t);for(let s=0;s<i.length;s+=1)i[s].d()}}}const te=async({fetch:r})=>({props:{data:await(await r("index.json")).json()}});function x(r,e,t){let l,n;W(r,C,h=>t(2,n=h));const i=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:m={}}=e;const c=new Date().toString().split(" ")[0];return C.subscribe(h=>t(1,l=Number(h))),r.$$set=h=>{"data"in h&&t(0,m=h.data)},t(1,l=Date.now()),[m,l,n,i,c]}class se extends K{constructor(e){super();Q(this,e,x,$,R,{data:0})}}export{se as default,te as load};
