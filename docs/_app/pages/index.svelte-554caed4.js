import{_ as U}from"../chunks/preload-helper-44e78077.js";import{J as X,S as Q,i as Z,s as x,e as y,k as M,l as C,c as E,a as j,d as $,n as D,b as I,f as k,x as v,t as N,g as S,K as A,H as w,j as P,m as L,o as O,u as b,v as R,w as q,h as T,L as ee,M as te,N as se,O as ae,A as le,r as F,P as ne,I as re}from"../chunks/vendor-eb8595ac.js";import oe from"./upnext.svelte-1e4a63a0.js";const V=X(new Date,function(t){const s=setInterval(()=>{t(new Date)},1e3);return function(){clearInterval(s)}}),ie="/c43-daily-svelte";function Y(l,t,s){const e=l.slice();return e[14]=t[s][0],e[15]=t[s][1],e[17]=s,e}function z(l,t,s){const e=l.slice();return e[18]=t[s],e}function fe(l){let t=l[11].format(l[7])+"",s;return{c(){s=N(t)},l(e){s=S(e,t)},m(e,n){k(e,s,n)},p(e,n){n&128&&t!==(t=e[11].format(e[7])+"")&&T(s,t)},d(e){e&&$(s)}}}function ue(l){let t=l[14]+"",s;return{c(){s=N(t)},l(e){s=S(e,t)},m(e,n){k(e,s,n)},p(e,n){n&1&&t!==(t=e[14]+"")&&T(s,t)},d(e){e&&$(s)}}}function G(l){let t,s;return t=new oe({}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function J(l){let t,s,e,n=l[18].summary+"",m,g,p,_=l[18].start+"",h,f,u=l[18].end+"",a,r,o,c=l[18].startMs>l[6]&&l[18].startMs-27e4>=l[6]&&l[18].startMs-601e3>=l[6]&&l[14]===l[12]&&G();return{c(){t=y("li"),c&&c.c(),s=M(),e=y("span"),m=N(n),g=M(),p=y("span"),h=N(_),f=N(" - "),a=N(u),r=M(),this.h()},l(i){t=E(i,"LI",{class:!0});var d=j(t);c&&c.l(d),s=D(d),e=E(d,"SPAN",{class:!0});var H=j(e);m=S(H,n),H.forEach($),g=D(d),p=E(d,"SPAN",{class:!0});var B=j(p);h=S(B,_),f=S(B," - "),a=S(B,u),B.forEach($),r=D(d),d.forEach($),this.h()},h(){I(e,"class","event svelte-1a6cw1d"),I(p,"class","time svelte-1a6cw1d"),I(t,"class","svelte-1a6cw1d"),A(t,"starting",l[18].startMs-6e5<=l[6]&&l[18].startMs+3e5>=l[6]),A(t,"active",l[18].startMs<=l[6]&&l[18].endMs>=l[6]),A(t,"hidden",l[18].endMs<=l[6])},m(i,d){k(i,t,d),c&&c.m(t,null),w(t,s),w(t,e),w(e,m),w(t,g),w(t,p),w(p,h),w(p,f),w(p,a),w(t,r),o=!0},p(i,d){i[18].startMs>i[6]&&i[18].startMs-27e4>=i[6]&&i[18].startMs-601e3>=i[6]&&i[14]===i[12]?c?d&65&&v(c,1):(c=G(),c.c(),v(c,1),c.m(t,s)):c&&(F(),b(c,1,1,()=>{c=null}),q()),(!o||d&1)&&n!==(n=i[18].summary+"")&&T(m,n),(!o||d&1)&&_!==(_=i[18].start+"")&&T(h,_),(!o||d&1)&&u!==(u=i[18].end+"")&&T(a,u),d&65&&A(t,"starting",i[18].startMs-6e5<=i[6]&&i[18].startMs+3e5>=i[6]),d&65&&A(t,"active",i[18].startMs<=i[6]&&i[18].endMs>=i[6]),d&65&&A(t,"hidden",i[18].endMs<=i[6])},i(i){o||(v(c),o=!0)},o(i){b(c),o=!1},d(i){i&&$(t),c&&c.d()}}}function K(l,t){let s,e,n,m;function g(a,r){return a[14]!==a[12]?ue:fe}let p=g(t),_=p(t),h=t[15],f=[];for(let a=0;a<h.length;a+=1)f[a]=J(z(t,h,a));const u=a=>b(f[a],1,1,()=>{f[a]=null});return{key:l,first:null,c(){s=y("li"),_.c(),e=M();for(let a=0;a<f.length;a+=1)f[a].c();n=C(),this.h()},l(a){s=E(a,"LI",{class:!0});var r=j(s);_.l(r),r.forEach($),e=D(a);for(let o=0;o<f.length;o+=1)f[o].l(a);n=C(),this.h()},h(){I(s,"class","day-label svelte-1a6cw1d"),this.first=s},m(a,r){k(a,s,r),_.m(s,null),k(a,e,r);for(let o=0;o<f.length;o+=1)f[o].m(a,r);k(a,n,r),m=!0},p(a,r){if(t=a,p===(p=g(t))&&_?_.p(t,r):(_.d(1),_=p(t),_&&(_.c(),_.m(s,null))),r&4161){h=t[15];let o;for(o=0;o<h.length;o+=1){const c=z(t,h,o);f[o]?(f[o].p(c,r),v(f[o],1)):(f[o]=J(c),f[o].c(),v(f[o],1),f[o].m(n.parentNode,n))}for(F(),o=h.length;o<f.length;o+=1)u(o);q()}},i(a){if(!m){for(let r=0;r<h.length;r+=1)v(f[r]);m=!0}},o(a){f=f.filter(Boolean);for(let r=0;r<f.length;r+=1)b(f[r]);m=!1},d(a){a&&$(s),_.d(),a&&$(e),ee(f,a),a&&$(n)}}}function W(l){let t,s;return t=new l[2]({props:{width:400,height:400,render:{pixelArt:!0,transparent:!0},physics:{default:"arcade"},$$slots:{default:[me]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const m={};n&2097152&&(m.$$scope={dirty:n,ctx:e}),t.$set(m)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function ce(l){let t,s;return t=new l[1]({props:{velocityX:he,velocityY:l[8]}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p:re,i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function _e(l){let t,s;return t=new l[4]({props:{instance:l[9],name:"santa",x:-91,y:250,animation:"santa/default",$$slots:{default:[ce]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const m={};n&2097152&&(m.$$scope={dirty:n,ctx:e}),t.$set(m)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function me(l){let t,s;return t=new l[3]({props:{key:"main",preload:l[10],create:de,$$slots:{default:[_e]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const m={};n&2097152&&(m.$$scope={dirty:n,ctx:e}),t.$set(m)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function pe(l){let t,s,e,n=[],m=new Map,g,p,_,h=Object.entries(l[0].eventsByDay);const f=a=>a[14];for(let a=0;a<h.length;a+=1){let r=Y(l,h,a),o=f(r);m.set(o,n[a]=K(o,r))}let u=l[5]&&W(l);return{c(){t=M(),s=y("section"),e=y("ul");for(let a=0;a<n.length;a+=1)n[a].c();g=M(),u&&u.c(),p=C(),this.h()},l(a){te('[data-svelte="svelte-z8c47p"]',document.head).forEach($),t=D(a),s=E(a,"SECTION",{class:!0});var o=j(s);e=E(o,"UL",{class:!0});var c=j(e);for(let i=0;i<n.length;i+=1)n[i].l(c);c.forEach($),o.forEach($),g=D(a),u&&u.l(a),p=C(),this.h()},h(){document.title="C43 Events",I(e,"class","svelte-1a6cw1d"),I(s,"class","svelte-1a6cw1d")},m(a,r){k(a,t,r),k(a,s,r),w(s,e);for(let o=0;o<n.length;o+=1)n[o].m(e,null);k(a,g,r),u&&u.m(a,r),k(a,p,r),_=!0},p(a,[r]){r&6337&&(h=Object.entries(a[0].eventsByDay),F(),n=se(n,r,f,1,a,h,m,e,ne,K,null,Y),q()),a[5]?u?(u.p(a,r),r&32&&v(u,1)):(u=W(a),u.c(),v(u,1),u.m(p.parentNode,p)):u&&(F(),b(u,1,1,()=>{u=null}),q())},i(a){if(!_){for(let r=0;r<h.length;r+=1)v(n[r]);v(u),_=!0}},o(a){for(let r=0;r<n.length;r+=1)b(n[r]);b(u),_=!1},d(a){a&&$(t),a&&$(s);for(let r=0;r<n.length;r+=1)n[r].d();a&&$(g),u&&u.d(a),a&&$(p)}}}const ke=async({fetch:l})=>({props:{data:await(await l("index.json")).json()}});let he=25;function de(l){l.anims.create({key:"santa/default",frames:l.anims.generateFrameNumbers("santa"),frameRate:20,repeat:-1})}function $e(l,t,s){let e,n;ae(l,V,i=>s(7,n=i));let m,g,p,_,h=!1,f=-10,u;le(async()=>{await U(()=>import("../chunks/phaser-0d06a704.js").then(function(d){return d.p}),[]);const i=await U(()=>import("../chunks/index-8a303803.js"),["chunks/index-8a303803.js","chunks/vendor-eb8595ac.js","chunks/phaser-0d06a704.js"]);s(1,{ArcadePhysics:m,Game:g,Scene:p,Sprite:_}=i,m,s(2,g),s(3,p),s(4,_)),s(5,h=!0)});function a(i){i.load.spritesheet("santa",`${ie}/santa.png`,{frameWidth:91,frameHeight:37})}const r=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:o={}}=t;const c=new Date().toString().split(" ")[0];return V.subscribe(i=>s(6,e=Number(i))),l.$$set=i=>{"data"in i&&s(0,o=i.data)},s(6,e=Date.now()),[o,m,g,p,_,h,e,n,f,u,a,r,c]}class we extends Q{constructor(t){super();Z(this,t,$e,pe,x,{data:0})}}export{we as default,ke as load};
