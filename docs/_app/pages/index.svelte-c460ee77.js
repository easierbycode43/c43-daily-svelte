import{_ as H}from"../chunks/preload-helper-44e78077.js";import{J as X,S as Q,i as Z,s as x,e as y,k as M,l as U,c as E,a as j,d as g,n as D,b as I,f as k,x as v,t as S,g as N,K as A,H as w,j as P,m as L,o as O,u as b,v as R,w as q,h as T,L as ee,M as te,N as se,O as ae,A as le,r as F,P as ne,I as re}from"../chunks/vendor-eb8595ac.js";import oe from"./upnext.svelte-1e4a63a0.js";const V=X(new Date,function(t){const s=setInterval(()=>{t(new Date)},1e3);return function(){clearInterval(s)}}),ie="/c43-daily-svelte";function Y(l,t,s){const e=l.slice();return e[15]=t[s][0],e[16]=t[s][1],e[18]=s,e}function z(l,t,s){const e=l.slice();return e[19]=t[s],e}function fe(l){let t=l[11].format(l[7])+"",s;return{c(){s=S(t)},l(e){s=N(e,t)},m(e,n){k(e,s,n)},p(e,n){n&128&&t!==(t=e[11].format(e[7])+"")&&T(s,t)},d(e){e&&g(s)}}}function ue(l){let t=l[15]+"",s;return{c(){s=S(t)},l(e){s=N(e,t)},m(e,n){k(e,s,n)},p(e,n){n&1&&t!==(t=e[15]+"")&&T(s,t)},d(e){e&&g(s)}}}function G(l){let t,s;return t=new oe({}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function J(l){let t,s,e,n=l[19].summary+"",p,$,h,m=l[19].start+"",d,f,u=l[19].end+"",a,r,o,c=l[19].startMs>l[6]&&l[19].startMs-27e4>=l[6]&&l[19].startMs-601e3>=l[6]&&l[15]===l[12]&&G();return{c(){t=y("li"),c&&c.c(),s=M(),e=y("span"),p=S(n),$=M(),h=y("span"),d=S(m),f=S(" - "),a=S(u),r=M(),this.h()},l(i){t=E(i,"LI",{class:!0});var _=j(t);c&&c.l(_),s=D(_),e=E(_,"SPAN",{class:!0});var B=j(e);p=N(B,n),B.forEach(g),$=D(_),h=E(_,"SPAN",{class:!0});var C=j(h);d=N(C,m),f=N(C," - "),a=N(C,u),C.forEach(g),r=D(_),_.forEach(g),this.h()},h(){I(e,"class","event svelte-1a6cw1d"),I(h,"class","time svelte-1a6cw1d"),I(t,"class","svelte-1a6cw1d"),A(t,"starting",l[19].startMs-6e5<=l[6]&&l[19].startMs+3e5>=l[6]),A(t,"active",l[19].startMs<=l[6]&&l[19].endMs>=l[6]),A(t,"hidden",l[19].endMs<=l[6])},m(i,_){k(i,t,_),c&&c.m(t,null),w(t,s),w(t,e),w(e,p),w(t,$),w(t,h),w(h,d),w(h,f),w(h,a),w(t,r),o=!0},p(i,_){i[19].startMs>i[6]&&i[19].startMs-27e4>=i[6]&&i[19].startMs-601e3>=i[6]&&i[15]===i[12]?c?_&65&&v(c,1):(c=G(),c.c(),v(c,1),c.m(t,s)):c&&(F(),b(c,1,1,()=>{c=null}),q()),(!o||_&1)&&n!==(n=i[19].summary+"")&&T(p,n),(!o||_&1)&&m!==(m=i[19].start+"")&&T(d,m),(!o||_&1)&&u!==(u=i[19].end+"")&&T(a,u),_&65&&A(t,"starting",i[19].startMs-6e5<=i[6]&&i[19].startMs+3e5>=i[6]),_&65&&A(t,"active",i[19].startMs<=i[6]&&i[19].endMs>=i[6]),_&65&&A(t,"hidden",i[19].endMs<=i[6])},i(i){o||(v(c),o=!0)},o(i){b(c),o=!1},d(i){i&&g(t),c&&c.d()}}}function K(l,t){let s,e,n,p;function $(a,r){return a[15]!==a[12]?ue:fe}let h=$(t),m=h(t),d=t[16],f=[];for(let a=0;a<d.length;a+=1)f[a]=J(z(t,d,a));const u=a=>b(f[a],1,1,()=>{f[a]=null});return{key:l,first:null,c(){s=y("li"),m.c(),e=M();for(let a=0;a<f.length;a+=1)f[a].c();n=U(),this.h()},l(a){s=E(a,"LI",{class:!0});var r=j(s);m.l(r),r.forEach(g),e=D(a);for(let o=0;o<f.length;o+=1)f[o].l(a);n=U(),this.h()},h(){I(s,"class","day-label svelte-1a6cw1d"),this.first=s},m(a,r){k(a,s,r),m.m(s,null),k(a,e,r);for(let o=0;o<f.length;o+=1)f[o].m(a,r);k(a,n,r),p=!0},p(a,r){if(t=a,h===(h=$(t))&&m?m.p(t,r):(m.d(1),m=h(t),m&&(m.c(),m.m(s,null))),r&4161){d=t[16];let o;for(o=0;o<d.length;o+=1){const c=z(t,d,o);f[o]?(f[o].p(c,r),v(f[o],1)):(f[o]=J(c),f[o].c(),v(f[o],1),f[o].m(n.parentNode,n))}for(F(),o=d.length;o<f.length;o+=1)u(o);q()}},i(a){if(!p){for(let r=0;r<d.length;r+=1)v(f[r]);p=!0}},o(a){f=f.filter(Boolean);for(let r=0;r<f.length;r+=1)b(f[r]);p=!1},d(a){a&&g(s),m.d(),a&&g(e),ee(f,a),a&&g(n)}}}function W(l){let t,s;return t=new l[2]({props:{width:400,height:400,render:{pixelArt:!0,transparent:!0},physics:{default:"arcade"},$$slots:{default:[me]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const p={};n&4194304&&(p.$$scope={dirty:n,ctx:e}),t.$set(p)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function ce(l){let t,s;return t=new l[1]({props:{velocityX:he,velocityY:l[8]}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p:re,i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function _e(l){let t,s;return t=new l[4]({props:{instance:l[9],name:"santa",x:-91,y:250,animation:"santa/default",$$slots:{default:[ce]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const p={};n&4194304&&(p.$$scope={dirty:n,ctx:e}),t.$set(p)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function me(l){let t,s;return t=new l[3]({props:{key:"main",preload:l[10],create:de,$$slots:{default:[_e]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const p={};n&4194304&&(p.$$scope={dirty:n,ctx:e}),t.$set(p)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function pe(l){let t,s,e,n=[],p=new Map,$,h,m,d=Object.entries(l[0].eventsByDay);const f=a=>a[15];for(let a=0;a<d.length;a+=1){let r=Y(l,d,a),o=f(r);p.set(o,n[a]=K(o,r))}let u=l[5]&&W(l);return{c(){t=M(),s=y("section"),e=y("ul");for(let a=0;a<n.length;a+=1)n[a].c();$=M(),u&&u.c(),h=U(),this.h()},l(a){te('[data-svelte="svelte-z8c47p"]',document.head).forEach(g),t=D(a),s=E(a,"SECTION",{class:!0});var o=j(s);e=E(o,"UL",{class:!0});var c=j(e);for(let i=0;i<n.length;i+=1)n[i].l(c);c.forEach(g),o.forEach(g),$=D(a),u&&u.l(a),h=U(),this.h()},h(){document.title="C43 Events",I(e,"class","svelte-1a6cw1d"),I(s,"class","svelte-1a6cw1d")},m(a,r){k(a,t,r),k(a,s,r),w(s,e);for(let o=0;o<n.length;o+=1)n[o].m(e,null);k(a,$,r),u&&u.m(a,r),k(a,h,r),m=!0},p(a,[r]){r&6337&&(d=Object.entries(a[0].eventsByDay),F(),n=se(n,r,f,1,a,d,p,e,ne,K,null,Y),q()),a[5]?u?(u.p(a,r),r&32&&v(u,1)):(u=W(a),u.c(),v(u,1),u.m(h.parentNode,h)):u&&(F(),b(u,1,1,()=>{u=null}),q())},i(a){if(!m){for(let r=0;r<d.length;r+=1)v(n[r]);v(u),m=!0}},o(a){for(let r=0;r<n.length;r+=1)b(n[r]);b(u),m=!1},d(a){a&&g(t),a&&g(s);for(let r=0;r<n.length;r+=1)n[r].d();a&&g($),u&&u.d(a),a&&g(h)}}}const ke=async({fetch:l})=>({props:{data:await(await l("index.json")).json()}});let he=25;function de(l){l.anims.create({key:"santa/default",frames:l.anims.generateFrameNumbers("santa"),frameRate:20,repeat:-1})}function ge(l,t,s){let e,n;ae(l,V,_=>s(7,n=_));let p,$,h,m,d=!1,f=-10,u;le(async()=>{await H(()=>import("../chunks/phaser-0d06a704.js").then(function(B){return B.p}),[]);const _=await H(()=>import("../chunks/index-8a303803.js"),["chunks/index-8a303803.js","chunks/vendor-eb8595ac.js","chunks/phaser-0d06a704.js"]);s(1,{ArcadePhysics:p,Game:$,Scene:h,Sprite:m}=_,p,s(2,$),s(3,h),s(4,m)),s(5,d=!0)});let a=`${ie}/santa.png`;console.log({santaSpriteUrl:a});function r(_){_.load.spritesheet("santa",a,{frameWidth:91,frameHeight:37})}const o=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:c={}}=t;const i=new Date().toString().split(" ")[0];return V.subscribe(_=>s(6,e=Number(_))),l.$$set=_=>{"data"in _&&s(0,c=_.data)},s(6,e=Date.now()),[c,p,$,h,m,d,e,n,f,u,r,o,i]}class we extends Q{constructor(t){super();Z(this,t,ge,pe,x,{data:0})}}export{we as default,ke as load};
