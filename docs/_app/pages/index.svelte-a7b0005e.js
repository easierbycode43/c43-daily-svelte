import{J,S as K,i as Q,s as R,l as O,k as N,n as S,f as y,e as k,t as D,c as g,a as w,g as I,d,b as E,K as P,H as v,L as M,h as j,M as U,N as V,O as G,I as C,P as W,Q as X}from"../chunks/vendor-72269891.js";const q=J(new Date,function(e){const t=setInterval(()=>{e(new Date)},1e3);return function(){clearInterval(t)}});function B(r,e,t){const l=r.slice();return l[5]=e[t][0],l[6]=e[t][1],l[8]=t,l}function T(r,e,t){const l=r.slice();return l[9]=e[t],l}function Y(r){let e,t=r[3].format(r[2])+"",l;return{c(){e=k("li"),l=D(t),this.h()},l(n){e=g(n,"LI",{class:!0});var i=w(e);l=I(i,t),i.forEach(d),this.h()},h(){E(e,"class","day-label svelte-8uwa74")},m(n,i){y(n,e,i),v(e,l)},p(n,i){i&4&&t!==(t=n[3].format(n[2])+"")&&j(l,t)},d(n){n&&d(e)}}}function Z(r){let e,t=r[5]+"",l;return{c(){e=k("li"),l=D(t),this.h()},l(n){e=g(n,"LI",{class:!0});var i=w(e);l=I(i,t),i.forEach(d),this.h()},h(){E(e,"class","day-label svelte-8uwa74")},m(n,i){y(n,e,i),v(e,l)},p(n,i){i&1&&t!==(t=n[5]+"")&&j(l,t)},d(n){n&&d(e)}}}function z(r){let e;return{c(){e=k("span"),this.h()},l(t){e=g(t,"SPAN",{style:!0}),w(e).forEach(d),this.h()},h(){M(e,"height","10px"),M(e,"width","10px"),M(e,"position","absolute"),M(e,"background-color","#1e8e3e"),M(e,"border-radius","50%"),M(e,"border","1px solid #fff"),M(e,"top","32.5px")},m(t,l){y(t,e,l)},d(t){t&&d(e)}}}function F(r){let e,t,l,n=r[9].summary+"",i,m,c,f=r[9].start+"",a,s,o=r[9].end+"",u,b,_=r[9].startMs<=r[1]&&r[9].endMs>=r[1]&&z();return{c(){e=k("li"),_&&_.c(),t=N(),l=k("span"),i=D(n),m=N(),c=k("span"),a=D(f),s=D(" - "),u=D(o),b=N(),this.h()},l(h){e=g(h,"LI",{class:!0});var p=w(e);_&&_.l(p),t=S(p),l=g(p,"SPAN",{class:!0});var A=w(l);i=I(A,n),A.forEach(d),m=S(p),c=g(p,"SPAN",{class:!0});var L=w(c);a=I(L,f),s=I(L," - "),u=I(L,o),L.forEach(d),b=S(p),p.forEach(d),this.h()},h(){E(l,"class","event svelte-8uwa74"),E(c,"class","time svelte-8uwa74"),E(e,"class","svelte-8uwa74"),P(e,"starting",r[9].startMs-6e5<=r[1]&&r[9].startMs+3e5>=r[1]),P(e,"active",r[9].startMs<=r[1]&&r[9].endMs>=r[1])},m(h,p){y(h,e,p),_&&_.m(e,null),v(e,t),v(e,l),v(l,i),v(e,m),v(e,c),v(c,a),v(c,s),v(c,u),v(e,b)},p(h,p){h[9].startMs<=h[1]&&h[9].endMs>=h[1]?_||(_=z(),_.c(),_.m(e,t)):_&&(_.d(1),_=null),p&1&&n!==(n=h[9].summary+"")&&j(i,n),p&1&&f!==(f=h[9].start+"")&&j(a,f),p&1&&o!==(o=h[9].end+"")&&j(u,o),p&3&&P(e,"starting",h[9].startMs-6e5<=h[1]&&h[9].startMs+3e5>=h[1]),p&3&&P(e,"active",h[9].startMs<=h[1]&&h[9].endMs>=h[1])},d(h){h&&d(e),_&&_.d()}}}function H(r,e){let t,l,n;function i(s,o){return s[5]!==s[4]?Z:Y}let m=i(e),c=m(e),f=e[6],a=[];for(let s=0;s<f.length;s+=1)a[s]=F(T(e,f,s));return{key:r,first:null,c(){t=O(),c.c(),l=N();for(let s=0;s<a.length;s+=1)a[s].c();n=O(),this.h()},l(s){t=O(),c.l(s),l=S(s);for(let o=0;o<a.length;o+=1)a[o].l(s);n=O(),this.h()},h(){this.first=t},m(s,o){y(s,t,o),c.m(s,o),y(s,l,o);for(let u=0;u<a.length;u+=1)a[u].m(s,o);y(s,n,o)},p(s,o){if(e=s,m===(m=i(e))&&c?c.p(e,o):(c.d(1),c=m(e),c&&(c.c(),c.m(l.parentNode,l))),o&3){f=e[6];let u;for(u=0;u<f.length;u+=1){const b=T(e,f,u);a[u]?a[u].p(b,o):(a[u]=F(b),a[u].c(),a[u].m(n.parentNode,n))}for(;u<a.length;u+=1)a[u].d(1);a.length=f.length}},d(s){s&&d(t),c.d(s),s&&d(l),U(a,s),s&&d(n)}}}function $(r){let e,t,l,n,i=[],m=new Map,c=Object.entries(r[0].eventsByDay);const f=a=>a[5];for(let a=0;a<c.length;a+=1){let s=B(r,c,a),o=f(s);m.set(o,i[a]=H(o,s))}return{c(){e=N(),t=k("section"),l=k("div"),n=k("ul");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){V('[data-svelte="svelte-z8c47p"]',document.head).forEach(d),e=S(a),t=g(a,"SECTION",{style:!0});var o=w(t);l=g(o,"DIV",{class:!0});var u=w(l);n=g(u,"UL",{class:!0});var b=w(n);for(let _=0;_<i.length;_+=1)i[_].l(b);b.forEach(d),u.forEach(d),o.forEach(d),this.h()},h(){document.title="C43 Events",E(n,"class","svelte-8uwa74"),E(l,"class","bg svelte-8uwa74"),M(t,"display","flex")},m(a,s){y(a,e,s),y(a,t,s),v(t,l),v(l,n);for(let o=0;o<i.length;o+=1)i[o].m(n,null)},p(a,[s]){s&31&&(c=Object.entries(a[0].eventsByDay),i=G(i,s,f,1,a,c,m,n,X,H,null,B))},i:C,o:C,d(a){a&&d(e),a&&d(t);for(let s=0;s<i.length;s+=1)i[s].d()}}}const te=async({fetch:r})=>({props:{data:await(await r("index.json")).json()}});function x(r,e,t){let l,n;W(r,q,f=>t(2,n=f));const i=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:m={}}=e;const c=new Date().toString().split(" ")[0];return q.subscribe(f=>t(1,l=Number(f))),r.$$set=f=>{"data"in f&&t(0,m=f.data)},t(1,l=Date.now()),[m,l,n,i,c]}class se extends K{constructor(e){super();Q(this,e,x,$,R,{data:0})}}export{se as default,te as load};
