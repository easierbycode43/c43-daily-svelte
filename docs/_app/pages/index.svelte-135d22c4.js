import{J as T,S as z,i as F,s as H,l as M,k as N,n as S,f as p,e as y,t as E,c as b,a as k,g as D,d,b as g,K as L,H as v,h as I,L as J,M as K,N as Q,O as R,I as O,P as U,Q as V}from"../chunks/vendor-e7514101.js";const C=T(new Date,function(e){const s=setInterval(()=>{e(new Date)},1e3);return function(){clearInterval(s)}});function P(o,e,s){const a=o.slice();return a[5]=e[s][0],a[6]=e[s][1],a[8]=s,a}function q(o,e,s){const a=o.slice();return a[9]=e[s],a}function G(o){let e,s=o[3].format(o[2])+"",a;return{c(){e=y("li"),a=E(s),this.h()},l(n){e=b(n,"LI",{class:!0});var r=k(e);a=D(r,s),r.forEach(d),this.h()},h(){g(e,"class","day-label svelte-s0ceys")},m(n,r){p(n,e,r),v(e,a)},p(n,r){r&4&&s!==(s=n[3].format(n[2])+"")&&I(a,s)},d(n){n&&d(e)}}}function W(o){let e,s=o[5]+"",a;return{c(){e=y("li"),a=E(s),this.h()},l(n){e=b(n,"LI",{class:!0});var r=k(e);a=D(r,s),r.forEach(d),this.h()},h(){g(e,"class","day-label svelte-s0ceys")},m(n,r){p(n,e,r),v(e,a)},p(n,r){r&1&&s!==(s=n[5]+"")&&I(a,s)},d(n){n&&d(e)}}}function A(o){let e,s,a=o[9].summary+"",n,r,h,i=o[9].start+"",u,l,t=o[9].end+"",c,_;return{c(){e=y("li"),s=y("span"),n=E(a),r=N(),h=y("span"),u=E(i),l=E(" - "),c=E(t),_=N(),this.h()},l(f){e=b(f,"LI",{class:!0});var m=k(e);s=b(m,"SPAN",{class:!0});var j=k(s);n=D(j,a),j.forEach(d),r=S(m),h=b(m,"SPAN",{class:!0});var w=k(h);u=D(w,i),l=D(w," - "),c=D(w,t),w.forEach(d),_=S(m),m.forEach(d),this.h()},h(){g(s,"class","event svelte-s0ceys"),g(h,"class","time svelte-s0ceys"),g(e,"class","svelte-s0ceys"),L(e,"active",o[9].startMs-3e4<=o[1]&&o[9].startMs+3e4>=o[1])},m(f,m){p(f,e,m),v(e,s),v(s,n),v(e,r),v(e,h),v(h,u),v(h,l),v(h,c),v(e,_)},p(f,m){m&1&&a!==(a=f[9].summary+"")&&I(n,a),m&1&&i!==(i=f[9].start+"")&&I(u,i),m&1&&t!==(t=f[9].end+"")&&I(c,t),m&3&&L(e,"active",f[9].startMs-3e4<=f[1]&&f[9].startMs+3e4>=f[1])},d(f){f&&d(e)}}}function B(o,e){let s,a,n;function r(t,c){return t[5]!==t[4]?W:G}let h=r(e),i=h(e),u=e[6],l=[];for(let t=0;t<u.length;t+=1)l[t]=A(q(e,u,t));return{key:o,first:null,c(){s=M(),i.c(),a=N();for(let t=0;t<l.length;t+=1)l[t].c();n=M(),this.h()},l(t){s=M(),i.l(t),a=S(t);for(let c=0;c<l.length;c+=1)l[c].l(t);n=M(),this.h()},h(){this.first=s},m(t,c){p(t,s,c),i.m(t,c),p(t,a,c);for(let _=0;_<l.length;_+=1)l[_].m(t,c);p(t,n,c)},p(t,c){if(e=t,h===(h=r(e))&&i?i.p(e,c):(i.d(1),i=h(e),i&&(i.c(),i.m(a.parentNode,a))),c&3){u=e[6];let _;for(_=0;_<u.length;_+=1){const f=q(e,u,_);l[_]?l[_].p(f,c):(l[_]=A(f),l[_].c(),l[_].m(n.parentNode,n))}for(;_<l.length;_+=1)l[_].d(1);l.length=u.length}},d(t){t&&d(s),i.d(t),t&&d(a),J(l,t),t&&d(n)}}}function X(o){let e,s,a,n,r=[],h=new Map,i=Object.entries(o[0].eventsByDay);const u=l=>l[5];for(let l=0;l<i.length;l+=1){let t=P(o,i,l),c=u(t);h.set(c,r[l]=B(c,t))}return{c(){e=N(),s=y("section"),a=y("div"),n=y("ul");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){K('[data-svelte="svelte-z8c47p"]',document.head).forEach(d),e=S(l),s=b(l,"SECTION",{style:!0});var c=k(s);a=b(c,"DIV",{class:!0});var _=k(a);n=b(_,"UL",{class:!0});var f=k(n);for(let m=0;m<r.length;m+=1)r[m].l(f);f.forEach(d),_.forEach(d),c.forEach(d),this.h()},h(){document.title="C43 Events",g(n,"class","svelte-s0ceys"),g(a,"class","bg svelte-s0ceys"),Q(s,"display","flex")},m(l,t){p(l,e,t),p(l,s,t),v(s,a),v(a,n);for(let c=0;c<r.length;c+=1)r[c].m(n,null)},p(l,[t]){t&31&&(i=Object.entries(l[0].eventsByDay),r=R(r,t,u,1,l,i,h,n,V,B,null,P))},i:O,o:O,d(l){l&&d(e),l&&d(s);for(let t=0;t<r.length;t+=1)r[t].d()}}}const $=async({fetch:o})=>({props:{data:await(await o("index.json")).json()}});function Y(o,e,s){let a,n;U(o,C,u=>s(2,n=u));const r=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:h={}}=e;const i=new Date().toString().split(" ")[0];return C.subscribe(u=>s(1,a=Number(u))),o.$$set=u=>{"data"in u&&s(0,h=u.data)},s(1,a=Date.now()),[h,a,n,r,i]}class x extends z{constructor(e){super();F(this,e,Y,X,H,{data:0})}}export{x as default,$ as load};
