import{_ as U}from"../chunks/preload-helper-44e78077.js";import{J as X,S as Q,i as Z,s as x,e as y,k as M,l as C,c as E,a as j,d as g,n as D,b as I,f as k,x as v,t as N,g as S,K as A,H as w,j as P,m as L,o as O,u as b,v as R,w as q,h as T,L as ee,M as te,N as se,O as ae,A as le,r as F,P as ne,I as re}from"../chunks/vendor-eb8595ac.js";import oe from"./upnext.svelte-48c1db02.js";const V=X(new Date,function(t){const s=setInterval(()=>{t(new Date)},1e3);return function(){clearInterval(s)}});function Y(l,t,s){const e=l.slice();return e[13]=t[s][0],e[14]=t[s][1],e[16]=s,e}function z(l,t,s){const e=l.slice();return e[17]=t[s],e}function ie(l){let t=l[10].format(l[7])+"",s;return{c(){s=N(t)},l(e){s=S(e,t)},m(e,n){k(e,s,n)},p(e,n){n&128&&t!==(t=e[10].format(e[7])+"")&&T(s,t)},d(e){e&&g(s)}}}function fe(l){let t=l[13]+"",s;return{c(){s=N(t)},l(e){s=S(e,t)},m(e,n){k(e,s,n)},p(e,n){n&1&&t!==(t=e[13]+"")&&T(s,t)},d(e){e&&g(s)}}}function G(l){let t,s;return t=new oe({}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function J(l){let t,s,e,n=l[17].summary+"",m,$,p,_=l[17].start+"",h,u,c=l[17].end+"",a,r,o,f=l[17].startMs>l[6]&&l[17].startMs-27e4>=l[6]&&l[17].startMs-601e3>=l[6]&&l[13]===l[11]&&G();return{c(){t=y("li"),f&&f.c(),s=M(),e=y("span"),m=N(n),$=M(),p=y("span"),h=N(_),u=N(" - "),a=N(c),r=M(),this.h()},l(i){t=E(i,"LI",{class:!0});var d=j(t);f&&f.l(d),s=D(d),e=E(d,"SPAN",{class:!0});var H=j(e);m=S(H,n),H.forEach(g),$=D(d),p=E(d,"SPAN",{class:!0});var B=j(p);h=S(B,_),u=S(B," - "),a=S(B,c),B.forEach(g),r=D(d),d.forEach(g),this.h()},h(){I(e,"class","event svelte-1a6cw1d"),I(p,"class","time svelte-1a6cw1d"),I(t,"class","svelte-1a6cw1d"),A(t,"starting",l[17].startMs-6e5<=l[6]&&l[17].startMs+3e5>=l[6]),A(t,"active",l[17].startMs<=l[6]&&l[17].endMs>=l[6]),A(t,"hidden",l[17].endMs<=l[6])},m(i,d){k(i,t,d),f&&f.m(t,null),w(t,s),w(t,e),w(e,m),w(t,$),w(t,p),w(p,h),w(p,u),w(p,a),w(t,r),o=!0},p(i,d){i[17].startMs>i[6]&&i[17].startMs-27e4>=i[6]&&i[17].startMs-601e3>=i[6]&&i[13]===i[11]?f?d&65&&v(f,1):(f=G(),f.c(),v(f,1),f.m(t,s)):f&&(F(),b(f,1,1,()=>{f=null}),q()),(!o||d&1)&&n!==(n=i[17].summary+"")&&T(m,n),(!o||d&1)&&_!==(_=i[17].start+"")&&T(h,_),(!o||d&1)&&c!==(c=i[17].end+"")&&T(a,c),d&65&&A(t,"starting",i[17].startMs-6e5<=i[6]&&i[17].startMs+3e5>=i[6]),d&65&&A(t,"active",i[17].startMs<=i[6]&&i[17].endMs>=i[6]),d&65&&A(t,"hidden",i[17].endMs<=i[6])},i(i){o||(v(f),o=!0)},o(i){b(f),o=!1},d(i){i&&g(t),f&&f.d()}}}function K(l,t){let s,e,n,m;function $(a,r){return a[13]!==a[11]?fe:ie}let p=$(t),_=p(t),h=t[14],u=[];for(let a=0;a<h.length;a+=1)u[a]=J(z(t,h,a));const c=a=>b(u[a],1,1,()=>{u[a]=null});return{key:l,first:null,c(){s=y("li"),_.c(),e=M();for(let a=0;a<u.length;a+=1)u[a].c();n=C(),this.h()},l(a){s=E(a,"LI",{class:!0});var r=j(s);_.l(r),r.forEach(g),e=D(a);for(let o=0;o<u.length;o+=1)u[o].l(a);n=C(),this.h()},h(){I(s,"class","day-label svelte-1a6cw1d"),this.first=s},m(a,r){k(a,s,r),_.m(s,null),k(a,e,r);for(let o=0;o<u.length;o+=1)u[o].m(a,r);k(a,n,r),m=!0},p(a,r){if(t=a,p===(p=$(t))&&_?_.p(t,r):(_.d(1),_=p(t),_&&(_.c(),_.m(s,null))),r&2113){h=t[14];let o;for(o=0;o<h.length;o+=1){const f=z(t,h,o);u[o]?(u[o].p(f,r),v(u[o],1)):(u[o]=J(f),u[o].c(),v(u[o],1),u[o].m(n.parentNode,n))}for(F(),o=h.length;o<u.length;o+=1)c(o);q()}},i(a){if(!m){for(let r=0;r<h.length;r+=1)v(u[r]);m=!0}},o(a){u=u.filter(Boolean);for(let r=0;r<u.length;r+=1)b(u[r]);m=!1},d(a){a&&g(s),_.d(),a&&g(e),ee(u,a),a&&g(n)}}}function W(l){let t,s;return t=new l[2]({props:{width:400,height:400,render:{pixelArt:!0,transparent:!0},physics:{default:"arcade"},$$slots:{default:[_e]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const m={};n&1048576&&(m.$$scope={dirty:n,ctx:e}),t.$set(m)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function ue(l){let t,s;return t=new l[1]({props:{velocityX:pe,velocityY:l[8]}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p:re,i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function ce(l){let t,s;return t=new l[4]({props:{instance:l[9],name:"santa",x:-91,y:250,animation:"santa/default",$$slots:{default:[ue]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const m={};n&1048576&&(m.$$scope={dirty:n,ctx:e}),t.$set(m)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function _e(l){let t,s;return t=new l[3]({props:{key:"main",preload:he,create:de,$$slots:{default:[ce]},$$scope:{ctx:l}}}),{c(){P(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,n){O(t,e,n),s=!0},p(e,n){const m={};n&1048576&&(m.$$scope={dirty:n,ctx:e}),t.$set(m)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){b(t.$$.fragment,e),s=!1},d(e){R(t,e)}}}function me(l){let t,s,e,n=[],m=new Map,$,p,_,h=Object.entries(l[0].eventsByDay);const u=a=>a[13];for(let a=0;a<h.length;a+=1){let r=Y(l,h,a),o=u(r);m.set(o,n[a]=K(o,r))}let c=l[5]&&W(l);return{c(){t=M(),s=y("section"),e=y("ul");for(let a=0;a<n.length;a+=1)n[a].c();$=M(),c&&c.c(),p=C(),this.h()},l(a){te('[data-svelte="svelte-z8c47p"]',document.head).forEach(g),t=D(a),s=E(a,"SECTION",{class:!0});var o=j(s);e=E(o,"UL",{class:!0});var f=j(e);for(let i=0;i<n.length;i+=1)n[i].l(f);f.forEach(g),o.forEach(g),$=D(a),c&&c.l(a),p=C(),this.h()},h(){document.title="C43 Events",I(e,"class","svelte-1a6cw1d"),I(s,"class","svelte-1a6cw1d")},m(a,r){k(a,t,r),k(a,s,r),w(s,e);for(let o=0;o<n.length;o+=1)n[o].m(e,null);k(a,$,r),c&&c.m(a,r),k(a,p,r),_=!0},p(a,[r]){r&3265&&(h=Object.entries(a[0].eventsByDay),F(),n=se(n,r,u,1,a,h,m,e,ne,K,null,Y),q()),a[5]?c?(c.p(a,r),r&32&&v(c,1)):(c=W(a),c.c(),v(c,1),c.m(p.parentNode,p)):c&&(F(),b(c,1,1,()=>{c=null}),q())},i(a){if(!_){for(let r=0;r<h.length;r+=1)v(n[r]);v(c),_=!0}},o(a){for(let r=0;r<n.length;r+=1)b(n[r]);b(c),_=!1},d(a){a&&g(t),a&&g(s);for(let r=0;r<n.length;r+=1)n[r].d();a&&g($),c&&c.d(a),a&&g(p)}}}const ke=async({fetch:l})=>({props:{data:await(await l("index.json")).json()}});let pe=25;function he(l){l.load.spritesheet("santa","/santa.png",{frameWidth:91,frameHeight:37})}function de(l){l.anims.create({key:"santa/default",frames:l.anims.generateFrameNumbers("santa"),frameRate:20,repeat:-1})}function ge(l,t,s){let e,n;ae(l,V,f=>s(7,n=f));let m,$,p,_,h=!1,u=-10,c;le(async()=>{await U(()=>import("../chunks/phaser-0d06a704.js").then(function(i){return i.p}),[]);const f=await U(()=>import("../chunks/index-8a303803.js"),["chunks/index-8a303803.js","chunks/vendor-eb8595ac.js","chunks/phaser-0d06a704.js"]);s(1,{ArcadePhysics:m,Game:$,Scene:p,Sprite:_}=f,m,s(2,$),s(3,p),s(4,_)),s(5,h=!0)});const a=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"});let{data:r={}}=t;const o=new Date().toString().split(" ")[0];return V.subscribe(f=>s(6,e=Number(f))),l.$$set=f=>{"data"in f&&s(0,r=f.data)},s(6,e=Date.now()),[r,m,$,p,_,h,e,n,u,c,a,o]}class we extends Q{constructor(t){super();Z(this,t,ge,me,x,{data:0})}}export{we as default,ke as load};
